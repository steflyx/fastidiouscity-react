import "./PoliticalSpectrum.css";

function computePoliticalLeaning(response) {
  if (response === "Liberal" && response === "Conservative") return response;
  if (response.search("Liberal") > 0 && response.search("Conservative") < 0)
    return "Liberal";
  if (response.search("Liberal") < 0 && response.search("Conservative") > 0)
    return "Conservative";
  return "Neutral";
}

export function DrawPoliticalSpectrum({ output }) {
  const leaning = computePoliticalLeaning(output);
  const barPosition = {
    Liberal: "politicalBarLiberal",
    Neutral: "politicalBarNeutral",
    Conservative: "politicalBarConservative",
  };

  return (
    <div className="politicalSpectrumContainer">
      <h3>
        <span className="halfHighlight">Text Analysis</span>
      </h3>
      <p>The speech appears to be {output}</p>
      <div className="politicalSpectrumBarContainer">
        <svg
          width="159"
          height="162"
          viewBox="0 0 159 162"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M158.518 42.5447C154.364 30.4989 143.976 2.22456 135.028 1.05343C127.677 0.0497885 106.584 -1.95744 97.9553 5.23602C96.5174 6.40771 94.7597 6.90953 93.002 6.40771C87.4085 4.7342 81.6559 4.90225 79.2595 5.06914H78.6208C76.3837 4.90225 70.9509 4.7342 65.517 6.24083C63.9185 6.74265 62.1607 6.24083 60.7228 5.06914C52.0944 -1.95762 31.0007 0.0497284 23.8099 1.05355C15.0209 2.22524 4.47403 30.4987 0.319906 42.5448L0 43.7165L21.2529 101.771C21.7322 103.109 22.8513 103.946 24.2893 103.946C24.4487 103.946 33.717 103.946 42.8259 105.452C43.945 105.619 44.4243 106.79 44.1044 107.794C41.7079 113.315 38.8311 117.497 37.2338 119.505C35.4759 121.68 36.7544 124.859 39.4708 125.026H40.59C50.0176 125.026 57.0489 119.672 61.6836 112.813C62.4828 111.641 64.2406 111.976 64.5594 113.482C66.7964 126.029 70.9506 138.242 77.9819 146.273C88.2089 157.817 104.827 162 116.013 162H116.333C121.127 162 124.643 156.479 124.643 149.285C124.643 141.924 121.127 136.57 116.333 136.57H116.013V136.404C108.343 136.404 103.229 134.898 100.354 131.719C97.3173 128.54 96.1992 123.187 96.0389 116.327C96.0389 114.822 97.9561 113.985 98.9146 115.155C103.548 120.843 109.941 125.026 118.251 125.026H119.37C122.086 124.859 123.365 121.512 121.607 119.505C119.849 117.498 117.132 113.315 114.736 107.961C114.257 106.957 114.895 105.785 116.015 105.619C125.283 104.113 134.551 104.113 134.711 104.113C135.989 104.113 137.268 103.276 137.747 101.938L159 43.8835L158.518 42.5447ZM25.7276 95.2454C23.6499 89.5573 17.7378 73.1607 12.9436 60.4462C8.78918 48.902 9.1082 36.1875 14.0627 24.9778C18.2171 15.4409 22.212 8.58239 24.4489 7.74557C24.6083 7.74557 24.7688 7.74557 24.9282 7.57869C33.3974 6.407 42.3457 6.407 48.8976 7.41181C52.733 8.08052 54.6502 12.0963 53.2124 15.777V15.9439C50.6554 22.1338 47.6189 31.8374 45.5424 39.701C41.388 55.5945 42.6667 58.7736 44.4233 60.6139L49.8561 66.302C50.6553 67.1387 50.9752 68.4773 50.6553 69.6477L43.9439 92.2343C43.7845 92.903 43.9439 93.5729 44.5826 94.0747L45.5412 94.7434C45.7006 94.7434 46.3404 95.4121 47.4584 96.082C47.9377 96.4169 48.2576 97.2537 48.0971 97.9224C47.9377 98.7592 47.1385 99.261 46.1799 99.0941C39.7886 97.9224 33.2367 97.4206 29.0811 97.2537C27.3256 97.2525 26.2069 96.4159 25.7276 95.2454ZM49.0583 112.478C50.4963 109.299 51.9341 105.786 53.0532 102.105C53.3731 101.101 54.3318 100.6 55.2903 101.101C56.2489 101.603 57.2075 101.938 58.1661 102.44C58.9653 102.775 59.4446 103.779 58.9653 104.782C57.5274 107.793 55.1299 111.809 51.4549 114.653C50.1764 115.656 48.2592 114.151 49.0583 112.478ZM114.734 146.44C115.214 144.767 117.451 144.767 117.93 146.44C118.09 147.277 118.25 148.281 118.25 149.451C118.25 150.623 118.091 151.626 117.93 152.462C117.451 154.135 115.214 154.135 114.734 152.462C114.575 151.625 114.415 150.622 114.415 149.451C114.415 148.281 114.575 147.277 114.734 146.44ZM107.383 142.425C108.342 142.592 108.821 143.596 108.662 144.432C108.342 145.937 108.023 147.611 108.023 149.283C108.023 150.287 108.183 151.458 108.183 152.462C108.342 153.634 107.383 154.638 106.265 154.47C98.435 152.964 88.8478 149.283 82.6158 142.089C67.2748 124.69 67.7553 82.5287 68.3939 70.6501C68.3939 68.8097 67.1154 67.3043 65.5182 67.3043H65.3588C63.601 67.1375 62.0025 68.6429 62.0025 70.4834C61.8431 75.1679 61.5232 84.2029 62.3224 94.5754C62.4818 95.7471 61.2033 96.7507 60.0853 96.2489C56.729 94.7435 53.8533 93.0699 51.7756 91.7314C51.1369 91.3965 50.817 90.5598 51.1369 89.8911L57.5282 68.1413C57.8481 66.9696 57.5282 65.7991 56.729 64.7955L49.3778 56.9322C49.0579 56.5973 48.8985 56.2635 48.8985 55.7605C48.5786 50.2395 54.1718 30.498 58.966 18.7864C61.8417 11.7597 74.3069 11.4248 79.1 11.9267C80.5379 11.7598 95.8788 10.755 99.234 18.7864C104.028 30.4974 109.461 50.2395 109.301 55.7605C109.301 56.0955 109.142 56.5973 108.822 56.7642C107.544 58.1028 103.549 62.4522 101.471 64.6275C100.672 65.4642 100.352 66.8028 100.672 67.9732L107.063 89.723C107.222 90.3917 107.063 91.2285 106.424 91.5634C104.507 92.902 101.63 94.5743 98.4345 95.913C97.3154 96.4148 96.1974 95.5781 96.1974 94.4075C96.3568 87.0459 96.5173 79.1826 96.038 70.4837C95.8786 68.6433 94.4396 67.3046 92.6817 67.4728C90.9239 67.6397 89.6453 69.1464 89.806 70.9868C90.4447 81.6942 90.1259 91.3979 89.806 100.098C89.3267 116.995 88.8474 129.376 95.7181 136.737C98.595 139.581 102.27 141.589 107.383 142.425ZM100.513 102.272C101.471 101.77 102.43 101.435 103.388 100.933C104.347 100.431 105.306 100.933 105.626 101.937C106.745 105.618 108.182 109.299 109.62 112.477C110.42 114.151 108.501 115.656 107.224 114.653C103.549 111.642 101.151 107.626 99.7135 104.614C99.3936 103.777 99.7135 102.607 100.513 102.272ZM130.395 97.4206C126.24 97.5875 119.529 98.0893 113.137 99.261C112.337 99.4279 111.538 98.9261 111.219 98.0893C111.219 97.9224 111.219 97.7544 111.06 97.5875C110.901 96.9188 111.219 96.2489 111.699 95.7471C112.498 95.0784 112.977 94.7435 113.137 94.7435C114.256 93.9067 114.574 92.4013 114.256 91.0628L107.864 69.4812C107.544 68.3095 107.864 67.139 108.664 66.1354L114.096 60.4474C115.695 58.7739 117.133 55.5962 112.977 39.5345C110.581 30.3325 107.225 20.7967 105.307 15.7773V15.6105C103.869 12.0965 105.946 8.0821 109.462 7.41228C116.014 6.24059 125.441 6.24059 134.23 7.41228C134.39 7.41228 134.55 7.41228 134.71 7.57917C136.787 8.41592 140.782 15.2757 144.937 24.6444C149.89 35.8538 150.369 48.7365 146.215 60.2801L133.431 95.0793C132.793 96.4155 131.673 97.2526 130.395 97.4206Z"
            fill="#C91403"
          />
          <path
            d="M61.6771 41.2188C58.2858 41.2188 55.7412 43.848 55.7412 46.9702C55.7412 50.2562 58.4548 52.7217 61.6771 52.7217C65.0684 52.7217 67.613 50.0925 67.613 46.9702C67.7822 43.8469 65.0686 41.2188 61.6771 41.2188Z"
            fill="#C91403"
          />
          <path
            d="M96.4087 52.7217C99.8 52.7217 102.345 50.0925 102.345 46.9702C102.345 43.6843 99.6311 41.2188 96.4087 41.2188C93.0174 41.2188 90.4728 43.848 90.4728 46.9702C90.3037 50.0924 93.0161 52.7217 96.4087 52.7217Z"
            fill="#C91403"
          />
        </svg>
        <div className="politicalSpectrumBar">
          <div className={barPosition[leaning]}></div>
        </div>
        <svg
          width="77"
          height="164"
          viewBox="0 0 77 164"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M42.8057 133.051L48.9931 134.523C49.6272 131.905 50.8966 129.613 52.6418 127.813L48.1995 123.068C45.5026 125.85 43.7573 129.123 42.8057 133.051Z"
            fill="#020D89"
          />
          <path
            d="M24.085 127.814C25.9884 129.614 27.0996 131.905 27.7337 134.524L33.9211 133.051C32.9694 129.123 31.2242 125.85 28.5272 123.231L24.085 127.814Z"
            fill="#020D89"
          />
          <path
            d="M67.8729 70.6986L68.1905 70.8618C81.2005 55.315 77.8683 32.0759 70.5698 15.5468C68.9828 11.9464 63.1132 0 57.0838 0C55.1804 0 52.324 0.818503 49.1512 4.90991C43.1222 13.0926 38.3635 31.4216 43.9157 57.4428C42.0122 57.2796 40.1078 57.2796 38.2043 57.2796C36.459 57.2796 34.7139 57.2796 33.1268 57.4428C38.6802 31.5855 33.9203 13.0926 27.8913 4.90991C24.8766 0.818562 21.8622 0 19.9587 0C13.9297 0 8.21819 11.9464 6.47273 15.5468C-0.825824 31.9122 -4.15695 54.8238 8.53555 70.5345C6.63206 74.6259 5.52088 79.8634 5.52088 86.5723C5.52088 99.0097 9.01122 113.903 14.5646 126.013C14.0887 128.141 13.7711 130.432 13.7711 132.886C13.7711 136.978 14.8822 140.578 16.7858 143.523C17.2617 156.125 24.8768 163.326 38.0449 163.326C51.213 163.326 58.828 156.125 59.3039 143.523C61.3668 140.578 62.3186 137.141 62.3186 132.886C62.3186 130.432 62.001 128.141 61.5251 126.013C67.0785 114.066 70.5688 98.8461 70.5688 86.5723C70.8876 79.8634 69.7765 74.7904 67.873 70.6991L67.8729 70.6986ZM54.2288 9.00108C55.4982 7.36408 56.4499 6.70999 56.9258 6.54674C58.9886 7.52849 65.0167 16.0387 68.507 29.1313C70.7281 37.6416 73.1074 53.516 64.3824 65.2988C63.113 63.8262 61.6855 62.6801 60.0985 61.6984C66.7619 48.9334 64.6988 31.5861 60.0985 18.9847L54.0694 21.2758C57.8774 32.0773 60.0985 48.2781 54.0694 59.0799C52.9583 58.7522 51.8484 58.4258 50.7372 58.2614C44.5509 31.5843 49.9448 14.7294 54.2287 9.00155L54.2288 9.00108ZM8.6957 29.1302C12.186 16.0376 18.2154 7.52732 20.277 6.54569C20.7529 6.70893 21.7046 7.19981 22.9739 9.00003C27.2578 14.8916 32.6517 31.7479 26.4643 58.2598C25.1949 58.4231 24.085 58.7507 22.9739 59.0784C17.1041 48.1135 19.166 32.2391 23.1322 21.2743L17.1031 18.9832C12.6609 31.4206 10.5981 48.7682 16.9449 61.3696C15.3579 62.3513 13.7721 63.4974 12.5026 64.8069C4.25359 53.188 6.47486 37.6411 8.6957 29.1302ZM38.3636 156.78C31.2246 156.78 26.7823 154.326 24.7195 149.416C28.3683 151.053 32.9697 151.87 38.3636 151.87C43.7575 151.87 48.359 151.052 52.0077 149.416C49.9449 154.325 45.5027 156.78 38.3636 156.78ZM38.3636 145.488C26.4647 145.488 20.4357 141.233 20.4357 133.05C20.4357 129.287 20.4357 117.667 38.3636 117.667C56.2916 117.667 56.2916 129.287 56.2916 133.05C56.2916 141.233 50.2625 145.488 38.3636 145.488ZM38.3636 110.957C29.4794 110.957 22.816 113.576 18.6905 118.649C15.9935 111.938 14.0901 104.411 13.1371 97.3733C14.8823 99.5011 17.421 100.811 20.2762 100.811C25.67 100.811 30.1123 96.0652 30.1123 90.1737C30.1123 84.2822 25.67 79.5368 20.2762 79.5368C17.1034 79.5368 14.2471 81.337 12.3436 83.9557C13.2953 67.2627 22.0213 64.153 38.3625 64.153C54.8617 64.153 63.5879 67.4258 64.3814 84.4464C62.6362 81.5012 59.6216 79.701 56.2904 79.701C50.8966 79.701 46.4543 84.4464 46.4543 90.3379C46.4543 96.2295 50.8966 100.975 56.2904 100.975C59.3051 100.975 62.0019 99.5022 63.7471 97.2111C62.7953 104.412 60.7324 112.104 58.0356 118.977C53.9109 113.575 47.2478 110.957 38.3633 110.957L38.3636 110.957ZM16.7869 90.0092C16.7869 87.7181 18.3739 85.9178 20.2773 85.9178C22.1807 85.9178 23.7676 87.7181 23.7676 90.0092C23.7676 92.3003 22.1807 94.1005 20.2773 94.1005C18.3739 94.1005 16.7869 92.3003 16.7869 90.0092ZM59.7816 90.0092C59.7816 92.3003 58.1946 94.1005 56.2913 94.1005C54.3879 94.1005 52.8009 92.3003 52.8009 90.0092C52.8009 87.7181 54.3879 85.9178 56.2913 85.9178C58.1946 85.9178 59.7816 87.7181 59.7816 90.0092Z"
            fill="#020D89"
          />
        </svg>
      </div>
    </div>
  );
}
